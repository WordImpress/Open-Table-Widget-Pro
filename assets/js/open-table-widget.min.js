function otw_frontend_api_restaurant_autocomplete(a,b,c){a.term=a.term.split(", ").pop(),a.term=a.term.replace("'","%27"),a.term=a.term.replace(/\s/g,"%20");var d={action:"open_table_api_action",city:c,restaurant:a.term},e=[];jQuery.post(otwParams.ajax_url,d,function(a){a=jQuery.parseJSON(a),null!==a&&(console.log(a),a.restaurants.filter(function(a){e.push({label:a.name,value:a.name,id:a.id,address:a.address})})),b(e)})}jQuery(document).ready(function(a){var b=a(".otw-reservation-date"),c=Date.now()-864e5;b.otwdatepicker({autoClose:!0,dateFormat:a(this).attr("data-date-format"),weekStart:0,isDisabled:function(a){return a.valueOf()<c}}),a(window).on("load",function(){a(".datepicker-days .selected").trigger("click")}),"function"==typeof a.fn.selectpicker&&a(".selectpicker").selectpicker(),a(".otw-party-size-select").on("change",function(){a(".PartySize").val(a(this).val())}),a(".otw-reservation-restaurant").on("change",function(){a(this).parentsUntil(".otw-widget-form").find(".RestaurantID, .RestaurantReferralID, .rid").val(a(this).val())}),a(".otw-reservation-city").on("change",function(){""!==a(this).val()?a(this).parents(".otw-wrapper").children(".otw-restaurant-find-wrap").slideDown():a(this).parents(".otw-wrapper").children(".otw-restaurant-find-wrap").slideUp()}),0!==jQuery(".otw-restaurant-autocomplete").length&&(jQuery(".otw-restaurant-autocomplete").autocomplete({minLength:2,source:function(a,b){var c=this.element,d=jQuery(c).parents(".otw-wrapper").find("select.otw-reservation-city").val();d=d.replace(/\s/g,"%20"),otw_frontend_api_restaurant_autocomplete(a,b,d)},select:function(a,b){jQuery(this).parents(".otw-wrapper").children(".RestaurantID, .RestaurantReferralID, .rid").val(b.item.id)}}),jQuery.ui.autocomplete.prototype._renderItem=function(a,b){var c="";return"undefined"!=typeof b.address&&b.address.length>0&&(c=b.address),jQuery("<li />").data("item.autocomplete",b).append("<a><span class='otw-item-val'>"+b.value+"</span><span class='otw-item-address'>"+c+"</span></a>").appendTo(a)},jQuery.ui.autocomplete.prototype._resizeMenu=function(){var a=this.menu.element;a.outerWidth(this.element.outerWidth())})});